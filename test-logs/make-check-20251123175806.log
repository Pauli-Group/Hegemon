cargo fmt --all
cargo clippy --workspace --all-targets --all-features -- -D warnings
cargo test --workspace

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 10 tests
test reward::tests::supply_digest_handles_signed_delta ... ok
test reward::tests::halving_schedule_matches_expectations ... ok
test reward::tests::timespan_is_clamped ... ok
test reward::tests::total_minted_is_bounded_by_max_supply ... ok
test types::tests::fee_commitment_sorted ... ok
test types::tests::proof_commitment_depends_on_transaction_order ... ok
test types::tests::transaction_id_is_deterministic ... ok
test types::tests::transaction_version_changes_hash ... ok
test types::tests::version_commitment_tracks_counts ... ok
test validator::tests::bitmap_parsing_skips_out_of_range_bits ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 1 test
test duplicate_nullifiers_cause_rejection ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 15.12s


running 3 tests
test median_time_past_violation_rejected ... ok
test pow_bits_must_match_expected_target ... ok
test subsidy_overshoot_is_enforced ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s


running 1 test
test runtime_signatures_verify_pow_blocks ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s


running 2 tests
test pow_chain_accepts_valid_work ... ok
test bft_consensus_liveness_and_slashing ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.17s


running 1 test
test version_schedule_controls_activation ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.10s


running 10 tests
test p2p::tests::compact_address_roundtrip ... ok
test p2p::tests::encrypted_frames_round_trip_after_handshake ... ok
test p2p::tests::connection_handshake_round_trip ... ok
test peer_manager::tests::address_candidates_drop_local_and_connected ... ok
test peer_manager::tests::samples_addresses_with_exclusions ... ok
test peer_store::tests::persists_and_prunes_by_ttl ... ok
test peer_store::tests::returns_recent_peers_in_order_with_limit ... ok
test service::tests::startup_targets_prefers_imports_over_cached_and_seeds ... ok
test p2p::tests::pq_handshake_works_over_mock_streams ... ok
test service::tests::startup_targets_prioritize_recent_peers_before_seeds ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.15s


running 1 test
test ciphertext_tampering_is_detected ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.07s


running 3 tests
test connection_round_trip_and_encryption_over_duplex ... ok
test initiator_rejects_tampered_acceptance ... ok
test duplex_stream_handshake_succeeds_and_rejects_tampering ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.12s


running 3 tests
test block_gossip_is_imported_and_regossiped ... ok
test gossip_crosses_tcp_boundary ... ok
test address_exchange_teaches_new_peers ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 10.03s


running 1 test
test service::tests::reorg_rebuilds_ledger_and_storage ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.19s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 3 tests
test authorized_endpoints_return_data ... ok
test unauthorized_requests_are_rejected ... ok
test websocket_requires_token_and_streams_events ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 5.21s


running 2 tests
test node_bootstraps_from_exported_peers ... ok
test imported_peers_survive_restart ... FAILED

failures:

---- imported_peers_survive_restart stdout ----

thread 'imported_peers_survive_restart' panicked at node/tests/bootstrap.rs:356:10:
node b resynced after restart: Elapsed(())
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    imported_peers_survive_restart

test result: FAILED. 1 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 52.00s

